---
layout:     post           # 使用的布局（不需要改）
title:      详解BFC块级格式化上下文           # 标题 
subtitle:   详解BFC块级格式化上下文           #副标题
date:       2020-10-12             # 时间
author:     甜果果                    # 作者
header-img: https://cdn.jsdelivr.net/gh/tian-guo-guo/cdn@1.0/assets/img/home-bg-art.jpg    #背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 前端
    - 面试
---

# [详解BFC块级格式化上下文](https://segmentfault.com/a/1190000018411761)

在平常布局中都会遇到外边距合并、浮动元素覆盖等问题，这些都是触发了 bfc 的缘故

## **什么为 BFC**

BFC（Block Formatting Contexts ） 就是即块级格式化上下文。是Web页面中盒模型布局的CSS渲染模式，指一个独立的渲染区域或者说是一个隔离的独立容器。

## BFC的特性

我们大家都知道bfc的特性：

```text
1.内部的元素会在垂直方向，从顶部开始一个接一个地放置。 
2.元素垂直方向的距离由margin决定。属于同一个BFC的两个相邻 元素的margin会发生叠加
3.都是从最左边开始的。每个元素的margin box的左边，与包含块border box的左边(对于从左往右的格式化，否则
相反)。即使存在浮动也是如此
4.BFC的区域不会与float box叠加。 
5.BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然。 
6.计算BFC的高度时，浮动元素也参与计算（当BFC内部有浮动时，为了不影响外部元素的布局，BFC计算高度时会包
括浮动元素的高度）
```

![img](https://pic4.zhimg.com/v2-416671e009d1d2906b753e90cef68fd7_b.jpg)

## 触发BFC的方式

```text
float 除了none以外的值 

overflow 除了visible 以外的值（hidden，auto，scroll ） 

display (table-cell，table-caption，inline-block, flex, inline-flex) 

position值为（absolute，fixed） 

fieldset元素
```

## 实例

```html
<div id="box">
	<p>案例</p>
	<p>案例</p>
	<p>案例</p>
	<p>案例</p>
	<p>案例</p>
</div>
<style type="text/css">
	* {
		margin: 0;
		padding: 0;
	}
	p {
		margin: 20px 0;
		border: 1px solid #000000;
	}
	#box {
		width: 500px;
		margin: 0 auto;
		background: #00FFFF;
	}
</style>
```

![img](https://pic4.zhimg.com/80/v2-a4d88d690f9531a4ac1e8bed5a480913_1440w.jpg)

这里我门可以看到，第一个子盒子有上边距（不会发生margin穿透的问题）；两个子盒子的垂直距离为20px而不是40px，因为垂直外边距会折叠

那么有没有方法使他不重叠呢？答案肯定是有的

特性里面的第五条说了，BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然。所以让 p 标签 处在另一个BFC 容器里面就好了

```html
#box2{
	overflow: hidden;
}

<div id="box">
	<div id="box2">
		<p>案例</p>
	</div>
	<p>案例</p>
	<p>案例</p>
	<p>案例</p>
	<p>案例</p>
</di
```

![img](https://pic3.zhimg.com/v2-9699ee14ee130356fa894669153f5af2_b.jpg)

## 实例2

```html
<style type="text/css">
	* {
	  margin: 0;
	  padding: 0;
	}
	
	.Left{
		width: 50px;
		height: 50px;
		background: red;
		float: left;
	}
	.Right{
		width: 100px;
		height: 100px;
		background: blue;
	}
</style>

<body>
	<div class="Left">red</div>
	<div class="Right">blue</div>
</body>
```

![img](https://pic4.zhimg.com/80/v2-e0bac0af777a7c5478514b50cdb7d6f7_1440w.jpg)

从这个例子中看到，元素的外边距会触碰到包含块容器的外边框，也就是元素左边与容器左边相接触，与浮动元素发生了重叠。

解决办法就是给 .Right 也加上浮动

![img](https://pic3.zhimg.com/v2-b679030a5467991959948b9739574746_b.webp)

大家可以看一下尚学堂b站的这个视频

<iframe src="//player.bilibili.com/player.html?aid=48246596&bvid=BV13b411g78D&cid=84483831&page=65" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>


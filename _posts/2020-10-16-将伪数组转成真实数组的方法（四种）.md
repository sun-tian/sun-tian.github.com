---
layout:     post           # 使用的布局（不需要改）
title:      将伪数组转成真实数组的方法（四种）           # 标题 
subtitle:   将伪数组转成真实数组的方法（四种） #副标题
date:       2020-10-16             # 时间
author:     甜果果                    # 作者
header-img: https://cdn.jsdelivr.net/gh/tian-guo-guo/cdn@1.0/assets/img/home-bg-art.jpg    #背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 前端
    - 面试
---

# [将伪数组转成真实数组的方法（四种）](https://www.cnblogs.com/chenpingzhao/p/4764791.html)

`伪数组`也叫`类数组`，常见的伪数组有`arguments`、通过`document.getElements`..获取到的内容等，这些伪数组具有`length`属性，也是一个一个的元素组成的，但是构造器不是Array，不能使用数组的方法

伪数组如何转换成真正数组，其实我们很少去这么做，但是那帮面试官可能会问，并且不止一种方法让你去实现

### 方式一

>   创建一个新数组，遍历这个伪数组，并将其每一项添加到新数组中。（比较low,面试只回答这个，等着`被毙`吧）

```
 var ul=document.getElementsByTagName("li");
 var newArr=[];

 for(var i=0;i<ul.length;i++){
     newArr.push(ul[i]);
 }
 console.log(newArr)
复制代码
```

### 方式二

>   使用`[].slice.call(obj)`， 数组的`slice()`方法,它返回的是数组，使用`call`或者`apply`指向伪数组

```
let obj = {
    0: "a",
    1: "b",
    length: 2
}

let arr = [].slice.call(obj);
console.log(arr);  // ['a','b']
复制代码
```

**注意**

>   `Array.prototype.slice.call(obj)`与`[].slice.call(obj)`是一样的，但是`Array.prototype.slice.call()`的效率相对比较高一点

**模拟slice的实现**



![enter description here](https://cdn.jsdelivr.net/gh/tian-guo-guo/cdn@master/assets/picgoimg/20201016221612.png)



### 方式三

>   使用扩展运算符`...`，比如使用`[...obj]`，需要保证obj是可迭代

```
let obj = {
    0: "a",
    1: "b",
    [Symbol.iterator]() {  // 让Obj是可迭代的
        let index = 0;
        return {
            next: () => {
                return {
                    value: this[index],
                    done: this.length === index++
                }
            }
        }
    },
    length: 2
}


let realArray = [...obj]
console.log(realArray)      //[ 'a', 'b' ]
复制代码
```

**注意**

>   使用该种方式，必须保证数据源是`可迭代`的，否则报错

### 方式四

>   使用`ES6`中数组的新方法 `Array.from`，此种方法，对数据源没有特殊的要求，数据源可以不能迭代

```
let obj = {
    0: "a",
    1: "b",
    length: 2
}

let arr = Array.from(obj);
console.log(arr);  // ['a','b']
```


[Link](https://juejin.im/post/6844903987964018695)

